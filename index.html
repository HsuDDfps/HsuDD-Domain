<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <title>HsuDDfps</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="icon" href="https://fav.farm/ğŸ–¥ï¸" type="image/x-icon">
  <style>
    body {
      background-color: #111;
      color: #fff;
      font-family: "Arial", sans-serif;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 100vh;
      margin: 0;
      text-align: center;
    }
    h1 {
      font-size: 2rem;
      margin: 0;
    }
    .timestamp {
      color: #888;
      font-size: 0.9rem;
      margin-top: 0.5rem;
    }
    .button {
      margin-top: 2rem;
      padding: 0.75rem 1.5rem;
      font-size: 1rem;
      color: #fff;
      background-color: #6dcff4;
      border: none;
      border-radius: 999px;
      cursor: pointer;
      text-decoration: none;
      transition: background-color 0.2s ease;
    }
    .button:hover {
      background-color: #4ebbdc;
    }
  </style>
</head>
<body>
  <h1>æ­¤ç¶²åŸŸç‚º HsuDDfps æ‰€æœ‰</h1>
  <div class="timestamp" id="timestamp"></div>

  <a class="button" href="https://status.hsuddfps.com/" target="_blank">
    å°å¾éº¥å¡Šä¼ºæœå™¨é€£ç·šç‹€æ…‹æŸ¥è©¢
  </a>

  <script>
    function updateTimestamp() {
      const now = new Date();
      const yyyy = now.getFullYear();
      const mm = String(now.getMonth() + 1).padStart(2, '0');
      const dd = String(now.getDate()).padStart(2, '0');
      const hh = String(now.getHours()).padStart(2, '0');
      const min = String(now.getMinutes()).padStart(2, '0');
      const ss = String(now.getSeconds()).padStart(2, '0');
      document.getElementById('timestamp').textContent =
        `${yyyy}-${mm}-${dd} ${hh}:${min}:${ss}`;
    }

    // åˆå§‹å‘¼å«ä¸€æ¬¡ï¼Œä¹‹å¾Œæ¯ç§’æ›´æ–°
    updateTimestamp();
    setInterval(updateTimestamp, 1000);
  </script>
</body>
</html>
  <footer>ç‹€æ…‹æ¯ 30 ç§’è‡ªå‹•æ›´æ–°ä¸€æ¬¡ï½œæœ€å¾Œæ›´æ–°ï¼š<span id="last-update">å°šæœªæ›´æ–°</span></footer>

  <script>
    const servers = [
      { id: "proxy", name: "è¨—ç®¡åˆ†æ”¯é€£ç·šåŸ  (Velocity)", host: "mc.hsuddfps.com" },
      { id: "lobby", name: "å¤§å»³ä¼ºæœå™¨ (Lobby)", host: "mc.hsuddfps.com:30065" },
      { id: "survival", name: "ç”Ÿå­˜ã€1ã€‘æœ (Survival)", host: "mc.hsuddfps.com:30066" },
      { id: "creative", name: "å»ºé€ ã€1ã€‘æœ (Creative)", host: "mc.hsuddfps.com:30067" }
    ];

    async function fetchStatus(server) {
      const el = document.getElementById(server.id);
      el.className = "server";
      el.innerHTML = `${server.name} è®€å–ä¸­...`;

      try {
        const res = await fetch(`https://api.mcsrvstat.us/2/${server.host}`);
        const data = await res.json();

        if (!data.online) {
          el.innerHTML = `<strong>${server.name}</strong>: <span class="offline">ğŸ”´ é›¢ç·š</span>`;
          el.classList.add("offline");
        } else {
          const ping = data.debug?.ping || null;
          el.innerHTML = `
            <strong>${server.name}</strong>: <span class="online">ğŸŸ¢ åœ¨ç·š (${data.players.online} / ${data.players.max})</span>
            ${data.motd?.html ? `<div class="motd">${data.motd.html.join("<br>")}</div>` : ""}
            ${ping !== null ? `<div class="ping">å»¶é²ï¼šç´„ ${ping} ms</div>` : ""}
          `;
        }
      } catch {
        el.innerHTML = `<strong>${server.name}</strong>: <span class="offline">âŒ æŸ¥è©¢å¤±æ•—</span>`;
        el.classList.add("offline");
      }
    }

    async function refresh() {
      const progress = document.getElementById("progress-bar");
      progress.style.width = "0%";
      progress.style.display = "block";
      setTimeout(() => { progress.style.width = "50%"; }, 100);

      await Promise.all(servers.map(fetchStatus));

      progress.style.width = "100%";
      setTimeout(() => {
        progress.style.display = "none";
        progress.style.width = "0%";
      }, 500);

      document.getElementById("last-update").textContent = new Date().toLocaleTimeString();
    }

    function copyIP() {
      navigator.clipboard.writeText("mc.hsuddfps.com").then(() => {
        alert("å·²è¤‡è£½ IPï¼šmc.hsuddfps.com\nå¿«å» Minecraft åŠ å…¥å§ï¼");
      });
    }

    function launchMinecraft() {
      const link = document.createElement('a');
      link.href = "minecraft://?addExternalServer=å°å¾ä¼ºæœå™¨|mc.hsuddfps.com:25565";
      link.style.display = 'none';
      document.body.appendChild(link);
      link.click();
      document.body.removeChild(link);

      setTimeout(() => {
        alert("å¦‚æœæ²’æœ‰è‡ªå‹•å•Ÿå‹• Minecraftï¼Œè«‹ç¢ºèªä½ æ˜¯ä½¿ç”¨å®˜æ–¹å•Ÿå‹•å™¨ï¼Œæˆ–ä½¿ç”¨ä¸‹æ–¹æŒ‰éˆ•è¤‡è£½ IP æ‰‹å‹•åŠ å…¥ã€‚");
      }, 500);
    }

    refresh();
    setInterval(refresh, 30000);
  </script>
</body>
</html>
